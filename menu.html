<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <title>Menu de navigation | OSD9TDJ</title>
  <meta name="description" content="Menu de navigation du site OSD9TDJ ‚Äî acc√®s rapide aux rubriques et sous-pages." />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="theme-color" content="#0b0b0b" />

  <!-- Canonical : adapte si tu as un domaine -->
  <link rel="canonical" href="https://osd9tdj.org/menu.html" />

  <!-- OpenGraph -->
  <meta property="og:title" content="Menu de navigation | OSD9TDJ" />
  <meta property="og:description" content="Acc√®s rapide aux rubriques et sous-pages du site OSD9TDJ." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="fr_FR" />

  <!-- ‚úÖ JSON-LD (SEO propre) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "name": "OSD9TDJ",
        "url": "https://osd9tdj.org/",
        "logo": "https://osd9tdj.org/sceau.png"
      },
      {
        "@type": "WebSite",
        "name": "OSD9TDJ",
        "url": "https://osd9tdj.org/",
        "inLanguage": "fr"
      },
      {
        "@type": "WebPage",
        "name": "Menu de navigation",
        "url": "https://osd9tdj.org/menu.html",
        "inLanguage": "fr",
        "isPartOf": { "@id": "https://osd9tdj.org/#website" }
      }
    ]
  }
  </script>

  <!-- Police m√©di√©vale : tu peux remplacer par ta police locale si tu veux -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg:#070707;
      --veil: rgba(0,0,0,.72);
      --panelW: min(760px, 86vw);       /* ‚úÖ plus petit */
      --panelH: min(92vh, 920px);
      --radius: 18px;
      --ink:#1c1410;
      --accent:#8a0b0b;
      --line: rgba(70,50,35,.22);
      --btn: rgba(255,255,255,.10);
      --btnBorder: rgba(255,255,255,.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: var(--bg);
      color:#eee;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden; /* page menu = overlay plein √©cran */
    }

    /* ‚úÖ watermark discret (non intrusif, pas de texte cach√© ‚Äúspam‚Äù) */
    meta, script{ /* rien */ }
    /* (Marque ‚Äúinvisible‚Äù via commentaire + attributs data : safe) */

    /* Overlay derri√®re (page pr√©c√©dente) */
    .veil{
      position:fixed; inset:0;
      background: var(--veil);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      opacity:0;
      transition: opacity .28s ease;
    }
    .veil.show{opacity:1}

    /* Panel ‚Äúparchemin‚Äù */
    .panel{
      position:fixed;
      top: 50%;
      left: 0;
      transform: translate(-110%, -50%); /* ‚úÖ d√©part hors √©cran √† gauche */
      width: var(--panelW);
      height: var(--panelH);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 30px 90px rgba(0,0,0,.65);
      will-change: transform, opacity;
      opacity:0;
      transition: transform .55s cubic-bezier(.2,.9,.2,1), opacity .25s ease;
      background: transparent;
    }
    .panel.show{
      transform: translate(7vw, -50%);  /* ‚úÖ pos√© un peu √† droite = on voit la page derri√®re */
      opacity:1;
    }
    @media (max-width: 560px){
      .panel.show{ transform: translate(4vw, -50%); }
    }

    /* Fond parchemin (pleine page √† l‚Äôint√©rieur du panel) */
    .parchment{
      position:absolute; inset:0;
      background: url("parchemin.jpg") center/cover no-repeat;
      filter: saturate(1.02) contrast(1.02);
    }

    /* Zone de contenu (scroll) + footer fixe */
    .layout{
      position:absolute; inset:0;
      display:flex;
      flex-direction:column;
      padding: 22px 22px 14px 22px;
      gap: 14px;
    }

    /* Header */
    .topbar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
    }
    h1{
      margin:0;
      font-family: "Uncial Antiqua", serif;
      font-size: clamp(22px, 3.4vw, 34px);
      letter-spacing: .5px;
      color: #2a1b14;
      text-shadow: 0 1px 0 rgba(255,255,255,.35);
    }
    .actions{
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .btn{
      border: 1px solid rgba(60,45,35,.35);
      background: rgba(255,255,255,.18);
      color: #2a1b14;
      border-radius: 12px;
      padding: 10px 12px;
      font-weight:700;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.close{
      width: 44px;
      text-align:center;
      padding: 10px 0;
      font-size: 18px;
    }

    /* Scroll zone */
    .scroll{
      flex: 1 1 auto;
      overflow:auto;
      padding: 10px 6px 70px 6px; /* laisse la place au sceau */
      scrollbar-width: thin;
      scrollbar-color: rgba(60,45,35,.45) transparent;
    }
    .scroll::-webkit-scrollbar{ width: 10px; }
    .scroll::-webkit-scrollbar-thumb{ background: rgba(60,45,35,.35); border-radius: 10px; }
    .scroll::-webkit-scrollbar-track{ background: transparent; }

    /* Accord√©ons */
    details{
      border: 1px solid rgba(60,45,35,.18);
      background: rgba(255,255,255,.14);
      border-radius: 14px;
      margin: 10px 0;
      overflow:hidden;
    }
    summary{
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 14px 14px;
      cursor:pointer;
      font-family: "Uncial Antiqua", serif;
      color: #2a1b14;
      user-select:none;
    }
    summary::-webkit-details-marker{display:none}
    .label{
      font-size: clamp(16px, 2.2vw, 22px);
      letter-spacing: .3px;
      display:flex;
      gap: .15em;
      flex-wrap:wrap;
      line-height:1.1;
    }
    /* ‚úÖ premi√®re lettre rouge coll√©e au mot (pas s√©par√©e) */
    .label .first{
      color: var(--accent);
      text-shadow: 0 1px 0 rgba(255,255,255,.25);
      margin-right: .02em;
    }
    .chev{
      width: 36px;
      height: 36px;
      border-radius: 12px;
      border: 1px solid rgba(60,45,35,.22);
      background: rgba(255,255,255,.12);
      display:grid;
      place-items:center;
      flex: 0 0 auto;
    }
    .chev svg{ width:18px; height:18px; opacity:.85 }
    details[open] .chev svg{ transform: rotate(180deg); transition: transform .2s ease; }
    .group{
      padding: 8px 12px 14px 12px;
      border-top: 1px dashed rgba(60,45,35,.18);
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    a.item{
      text-decoration:none;
      color: #241710;
      font-weight:800;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid rgba(60,45,35,.18);
      background: rgba(255,255,255,.12);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
    }
    a.item:hover{ background: rgba(255,255,255,.18); }
    .sub{
      font-family: "Uncial Antiqua", serif;
      letter-spacing:.2px;
      font-size: 18px;
    }
    .lock{
      opacity:.85;
      font-size: 18px;
    }

    /* Bouton retour dans le contenu (optionnel, tu l‚Äôavais) */
    .backline{
      display:flex;
      justify-content:center;
      margin: 18px 0 6px;
    }
    .backbig{
      border: 1px solid rgba(60,45,35,.28);
      background: rgba(255,255,255,.16);
      color: #2a1b14;
      border-radius: 14px;
      padding: 12px 16px;
      font-weight:900;
      cursor:pointer;
    }

    /* ‚úÖ Sceau centr√© en bas, fixe dans le panel (pas dans la page) */
    .sealDock{
      position:absolute;
      left:0; right:0;
      bottom: 10px;
      display:flex;
      justify-content:center;
      pointer-events:none;
    }
    .seal{
      width: clamp(64px, 9vw, 96px);
      height: auto;
      opacity: 0;
      transform: translateY(10px) scale(.98);
      transition: opacity .35s ease, transform .45s cubic-bezier(.2,.9,.2,1);
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
    }
    .seal.show{
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    /* Accessibilit√© */
    .sr-only{
      position:absolute; width:1px; height:1px; padding:0; margin:-1px;
      overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
    }
  </style>
</head>

<body data-site="OSD9TDJ" data-purpose="menu-overlay">
  <!-- Voile + flou (cliquable pour revenir) -->
  <div class="veil" id="veil" aria-hidden="true"></div>

  <!-- Panel -->
  <main class="panel" id="panel" role="dialog" aria-modal="true" aria-label="Menu de navigation">
    <div class="parchment" aria-hidden="true"></div>

    <div class="layout">
      <div class="topbar">
        <div>
          <h1><span style="color:var(--accent)">M</span>enu de navigation</h1>
          <div class="sr-only">Choisissez une rubrique puis un lien.</div>
        </div>

        <div class="actions">
          <button class="btn" id="btnBack" type="button">‚Üê Revenir</button>
          <button class="btn close" id="btnClose" type="button" aria-label="Fermer">√ó</button>
        </div>
      </div>

      <section class="scroll" id="scrollZone" aria-label="Arborescence du site">
        <!-- === ACCORDEONS : remplace/compl√®te les liens ici === -->
        <details>
          <summary>
            <div class="label"><span class="first">G</span>√©n√©ral</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="index.html"><span class="sub"><span class="first">A</span>ccueil</span></a>
            <a class="item" href="quinoussommes.html"><span class="sub"><span class="first">Q</span>ui nous sommes</span></a>
            <a class="item" href="notre-mission.html"><span class="sub"><span class="first">N</span>otre mission</span></a>
            <a class="item" href="histoire.html"><span class="sub"><span class="first">N</span>otre histoire</span></a>
            <a class="item" href="contact.html"><span class="sub"><span class="first">C</span>ontact</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">H</span>istoire templi√®re</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="ordres-historiques.html"><span class="sub"><span class="first">O</span>rdres historiques</span></a>
            <a class="item" href="vocation.html"><span class="sub"><span class="first">H</span>istoire du Temple</span></a>
            <a class="item" href="bernard.html"><span class="sub"><span class="first">B</span>ernard de Clairvaux</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">A</span>ctivit√©s &amp; √©v√©nements</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="activites.html"><span class="sub"><span class="first">N</span>os √©v√©nements</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">A</span>dh√©sion</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="adhesion.html"><span class="sub"><span class="first">A</span>dh√©sion</span></a>
            <a class="item" href="cotisations.html"><span class="sub"><span class="first">C</span>otisations</span></a>
            <a class="item" href="notice-adhesion.html"><span class="sub"><span class="first">P</span>roc√©dure / notice d‚Äôadh√©sion</span></a>
            <a class="item" href="assurance.html"><span class="sub"><span class="first">A</span>ssurance</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">B</span>outique</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="boutique.html"><span class="sub"><span class="first">B</span>outique</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">M</span>embres</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <!-- üîí cadenas : affichage garanti -->
            <a class="item" href="documents-internes.html"><span class="sub"><span class="first">A</span>cc√®s r√©serv√© aux membres</span><span class="lock" aria-hidden="true">üîí</span></a>
            <a class="item" href="administration.html"><span class="sub"><span class="first">A</span>dministration</span><span class="lock" aria-hidden="true">üîí</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">I</span>nformations officielles &amp; aide</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="statuts.html"><span class="sub"><span class="first">S</span>tatuts</span></a>
            <a class="item" href="mentions.html"><span class="sub"><span class="first">M</span>entions / informations officielles</span></a>
            <a class="item" href="cookies.html"><span class="sub"><span class="first">C</span>ookies</span></a>
            <a class="item" href="faq.html"><span class="sub"><span class="first">F</span>AQ</span></a>
          </div>
        </details>

        <details>
          <summary>
            <div class="label"><span class="first">E</span>ncyclop√©dique (en cours de cr√©ation)</div>
            <div class="chev" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
            </div>
          </summary>
          <div class="group">
            <a class="item" href="Wikipedia.html"><span class="sub"><span class="first">P</span>age encyclop√©dique</span></a>
            <a class="item" href="Utilisateur_Wikipedia.html"><span class="sub"><span class="first">F</span>iche utilisateur (projet)</span></a>
          </div>
        </details>

        <div class="backline">
          <button class="backbig" id="btnBack2" type="button">‚Üê Revenir √† la page pr√©c√©dente</button>
        </div>

        <!-- Commentaire watermark (technique, non visible) :
             OSD9TDJ / menu overlay / version 2026-02 -->
      </section>
    </div>

    <!-- ‚úÖ Sceau centr√© en bas (et qui reste en bas) -->
    <div class="sealDock" aria-hidden="true">
      <img id="seal" class="seal" src="sceau.png" alt="">
    </div>
  </main>

  <script>
    // ============================
    // CONFIG
    // ============================
    const PARCHEMIN_BG = "parchemin.jpg"; // fond du panel (d√©j√† dans le CSS)
    const SEAL_SRC = "sceau.png";         // ‚úÖ change ici si ton sceau a un autre nom

    // ============================
    // ELEMENTS
    // ============================
    const veil  = document.getElementById("veil");
    const panel = document.getElementById("panel");
    const seal  = document.getElementById("seal");
    const btnBack  = document.getElementById("btnBack");
    const btnBack2 = document.getElementById("btnBack2");
    const btnClose = document.getElementById("btnClose");

    // Forcer src du sceau (√©vite erreurs de casse)
    seal.src = SEAL_SRC;

    // ============================
    // OPEN (auto)
    // ============================
    function openMenu(){
      veil.classList.add("show");
      panel.classList.add("show");

      // Sceau appara√Æt apr√®s l‚Äôarriv√©e du panneau
      setTimeout(() => {
        seal.classList.add("show");
      }, 520);
    }

    // ============================
    // CLOSE = retour page pr√©c√©dente
    // ============================
    function goBack(){
      // Si l‚Äôutilisateur vient d‚Äôune autre page : retour
      if (history.length > 1) {
        history.back();
        return;
      }
      // Sinon : fallback vers l‚Äôaccueil
      location.href = "index.html";
    }

    function closeMenu(){
      // animation inverse
      seal.classList.remove("show");
      panel.classList.remove("show");
      veil.classList.remove("show");
      setTimeout(goBack, 180);
    }

    // Click sur voile = revenir
    veil.addEventListener("click", closeMenu);
    btnClose.addEventListener("click", closeMenu);
    btnBack.addEventListener("click", closeMenu);
    btnBack2.addEventListener("click", closeMenu);

    // ESC = fermer
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeMenu();
    });

    // Au chargement
    window.addEventListener("load", openMenu);

    // S√©curit√© iOS : emp√™cher ‚Äúscroll de fond‚Äù
    document.addEventListener("touchmove", (e) => {
      // autoriser scroll uniquement dans .scroll
      const sc = e.target.closest && e.target.closest(".scroll");
      if (!sc) e.preventDefault();
    }, { passive: false });
  </script>
</body>
</html>
